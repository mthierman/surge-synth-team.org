---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";
import Base from "../layouts/Base.astro";

const projects = (await getCollection("projects")).sort(
    (a: any, b: any) => a.data.order - b.data.order,
);
---

<Base title="Surge Synth Team | Projects">
    <header class="flex justify-center bg-black text-white shadow-xl">
        <p class="font-blinker max-w-4xl pb-4 pt-2 text-justify text-lg leading-normal">
            The Surge Synth Team is a group of musicians, developers, testers, documenters, and
            general volunteer open source enthusiasts who randomly assembled to work on the Surge
            Synthesizer. As the Surge project became more successful, and we kept having fun, we
            decided to branch out into other things too!
        </p>
    </header>

    <div class="content-wrapper flex flex-col space-y-4 divide-y divide-black">
        {
            projects.map((project: any) => (
                <div class="flex flex-col gap-2 pb-8 last:pb-0">
                    <a class="max-w-fit text-justify text-2xl font-bold font-blinker" href={project.data.url}>
                        {project.data.title}
                    </a>
                    <p class="text-justify text-lg">{project.data.summary}</p>
                    <a href={project.data.url}>
                        <Image
                            alt={project.data.title}
                            src={project.data.cover}
                            quality="100"
                            format="png"
                            class="rounded-md shadow-xl"
                        />
                    </a>
                </div>
            ))
        }
    </div>
</Base>
